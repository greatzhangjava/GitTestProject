some code in swap2.c